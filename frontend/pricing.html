<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CONFLICT WATCH ‚Äî Planos</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=IBM+Plex+Mono:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
<script>
window.CW_CONFIG = {
  supabaseUrl:  'https://SEU_PROJETO.supabase.co',
  supabaseAnon: 'SUA_ANON_KEY',
  apiUrl:       'https://sua-api.render.com',
  appUrl:       'https://conflictwatch.vercel.app',
};
</script>
<style>
:root {
  --red: #ff2222; --amber: #ffb700; --green: #00ff88;
  --bg: #030a06; --panel: #060f08; --border: #0f3020;
  --text: #b0ffcc; --dim: #3a6650; --dim-green: #00994d;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: var(--bg); color: var(--text);
  font-family: 'IBM Plex Mono', monospace; min-height: 100vh;
}
body::before {
  content: '';
  position: fixed; inset: 0;
  background-image:
    linear-gradient(rgba(0,255,120,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,255,120,0.02) 1px, transparent 1px);
  background-size: 50px 50px;
  pointer-events: none; z-index: 0;
}
.nav {
  display: flex; justify-content: space-between; align-items: center;
  padding: 16px 32px; border-bottom: 1px solid var(--border);
  background: rgba(6,15,8,0.95);
  position: relative; z-index: 10;
}
.nav-logo {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.3rem; letter-spacing: 0.2em; color: var(--green);
  text-decoration: none;
  text-shadow: 0 0 20px rgba(0,255,120,0.3);
}
.nav-links { display: flex; gap: 20px; align-items: center; }
.nav-links a {
  font-size: 0.65rem; color: var(--dim);
  text-decoration: none; letter-spacing: 0.15em;
  transition: color 0.2s;
}
.nav-links a:hover { color: var(--text); }
.hero {
  text-align: center; padding: 60px 20px 40px;
  position: relative; z-index: 1;
}
.hero-badge {
  display: inline-block;
  font-size: 0.6rem; letter-spacing: 0.25em;
  color: var(--green); border: 1px solid rgba(0,255,120,0.3);
  padding: 4px 16px; margin-bottom: 20px;
}
.hero h1 {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 3rem; letter-spacing: 0.1em;
  color: var(--text); line-height: 1.1; margin-bottom: 12px;
}
.hero h1 span { color: var(--green); text-shadow: 0 0 30px rgba(0,255,120,0.4); }
.hero p { font-size: 0.75rem; color: var(--dim); max-width: 500px; margin: 0 auto; line-height: 1.7; }

.plans {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 1px; background: var(--border);
  max-width: 800px; margin: 40px auto 60px;
  position: relative; z-index: 1;
}
@media (max-width: 640px) { .plans { grid-template-columns: 1fr; } }

.plan-card {
  background: var(--panel);
  padding: 32px; position: relative; overflow: hidden;
}
.plan-card.pro {
  background: linear-gradient(145deg, #060f08 0%, #0a1f10 100%);
}
.plan-card.pro::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, var(--green), var(--amber));
}
.plan-badge {
  display: inline-block;
  font-size: 0.55rem; letter-spacing: 0.25em;
  padding: 3px 10px; margin-bottom: 20px;
}
.plan-badge.free { border: 1px solid var(--border); color: var(--dim); }
.plan-badge.pro  { border: 1px solid rgba(0,255,120,0.4); color: var(--green); background: rgba(0,255,120,0.05); }

.plan-name {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 2.2rem; letter-spacing: 0.15em;
  margin-bottom: 8px;
}
.plan-card.free .plan-name { color: var(--text); }
.plan-card.pro  .plan-name { color: var(--green); text-shadow: 0 0 20px rgba(0,255,120,0.3); }

.plan-price {
  margin-bottom: 8px;
}
.plan-price .amount {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 3rem; letter-spacing: 0.05em;
  line-height: 1;
}
.plan-price .period { font-size: 0.65rem; color: var(--dim); margin-left: 4px; }
.plan-desc { font-size: 0.65rem; color: var(--dim); margin-bottom: 28px; line-height: 1.6; }

.plan-trial {
  font-size: 0.6rem; color: var(--amber);
  letter-spacing: 0.1em; margin-bottom: 20px;
}

.features { list-style: none; margin-bottom: 28px; }
.features li {
  font-size: 0.68rem; padding: 7px 0;
  border-bottom: 1px solid rgba(15,48,32,0.4);
  display: flex; align-items: flex-start; gap: 10px;
  line-height: 1.4;
}
.features li .icon { flex-shrink: 0; }
.features li.included .icon { color: var(--green); }
.features li.excluded  { color: var(--dim); }
.features li.excluded .icon { color: var(--dim); }

.btn-plan {
  width: 100%; padding: 14px;
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1rem; letter-spacing: 0.25em;
  cursor: pointer; transition: all 0.2s; border: none;
}
.btn-free {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--dim);
}
.btn-free:hover { border-color: var(--text); color: var(--text); }
.btn-pro {
  background: var(--green);
  color: var(--bg);
  box-shadow: 0 0 30px rgba(0,255,120,0.2);
}
.btn-pro:hover { background: #00e67a; box-shadow: 0 0 40px rgba(0,255,120,0.35); }
.btn-pro:disabled { opacity: 0.5; cursor: not-allowed; }

.faq {
  max-width: 700px; margin: 0 auto 60px;
  position: relative; z-index: 1; padding: 0 20px;
}
.faq h2 {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 1.5rem; letter-spacing: 0.2em; color: var(--dim);
  margin-bottom: 24px; text-align: center;
}
.faq-item {
  border-bottom: 1px solid var(--border); padding: 16px 0;
}
.faq-q { font-size: 0.75rem; color: var(--text); margin-bottom: 8px; cursor: pointer; }
.faq-a { font-size: 0.68rem; color: var(--dim); line-height: 1.7; display: none; }
.faq-item.open .faq-a { display: block; }

.spinner {
  display: inline-block; width: 14px; height: 14px;
  border: 2px solid rgba(0,0,0,0.3); border-top-color: #030a06;
  border-radius: 50%; animation: spin 0.7s linear infinite;
  vertical-align: middle; margin-right: 6px;
}
@keyframes spin { to{transform:rotate(360deg)} }
</style>
</head>
<body>

<nav class="nav">
  <a href="./index.html" class="nav-logo">‚óà CONFLICT WATCH</a>
  <div class="nav-links">
    <a href="./index.html">Dashboard</a>
    <a href="#" id="auth-link">Entrar</a>
  </div>
</nav>

<div class="hero">
  <div class="hero-badge">‚óà PLANOS E PRE√áOS</div>
  <h1>Intelig√™ncia geopol√≠tica<br>no n√≠vel que voc√™ precisa</h1>
  <p>Comece gratuitamente. Fa√ßa upgrade quando precisar de an√°lises ilimitadas, alertas cr√≠ticos em tempo real e hist√≥rico completo do √≠ndice de tens√£o.</p>
</div>

<div class="plans">
  <!-- PLANO FREE -->
  <div class="plan-card free">
    <div class="plan-badge free">FREE</div>
    <div class="plan-name">BASIC</div>
    <div class="plan-price">
      <span class="amount">R$0</span>
      <span class="period">/ para sempre</span>
    </div>
    <div class="plan-desc">Para quem quer acompanhar o cen√°rio geopol√≠tico sem compromisso.</div>

    <ul class="features">
      <li class="included"><span class="icon">‚úì</span> 5 an√°lises IA por dia</li>
      <li class="included"><span class="icon">‚úì</span> Feed de eventos (√∫ltimas 24h)</li>
      <li class="included"><span class="icon">‚úì</span> √çndice de tens√£o (√∫ltimas 24h)</li>
      <li class="included"><span class="icon">‚úì</span> 1 c√¢mera ao vivo</li>
      <li class="included"><span class="icon">‚úì</span> 5 idiomas</li>
      <li class="excluded"><span class="icon">‚úó</span> Alertas cr√≠ticos em tempo real</li>
      <li class="excluded"><span class="icon">‚úó</span> Hist√≥rico de 90 dias</li>
      <li class="excluded"><span class="icon">‚úó</span> Dashboard avan√ßado</li>
      <li class="excluded"><span class="icon">‚úó</span> Exporta√ß√£o CSV</li>
    </ul>

    <button class="btn-plan btn-free" onclick="startFree()">COME√áAR GR√ÅTIS</button>
  </div>

  <!-- PLANO PRO -->
  <div class="plan-card pro">
    <div class="plan-badge pro">‚ö° PRO</div>
    <div class="plan-name">INTELLIGENCE</div>
    <div class="plan-price">
      <span class="amount" style="color:var(--green)">R$49</span>
      <span class="period">/ m√™s</span>
    </div>
    <div class="plan-desc">Para analistas, jornalistas e profissionais que precisam de dados em tempo real.</div>
    <div class="plan-trial">‚úì 7 dias gr√°tis para testar ‚Äî sem compromisso</div>

    <ul class="features">
      <li class="included"><span class="icon">‚úì</span> An√°lises IA <strong>ilimitadas</strong></li>
      <li class="included"><span class="icon">‚úì</span> <strong>Alertas cr√≠ticos</strong> em tempo real</li>
      <li class="included"><span class="icon">‚úì</span> Hist√≥rico completo de <strong>90 dias</strong></li>
      <li class="included"><span class="icon">‚úì</span> <strong>6+ c√¢meras</strong> ao vivo</li>
      <li class="included"><span class="icon">‚úì</span> 5 idiomas + atualiza√ß√£o instant√¢nea</li>
      <li class="included"><span class="icon">‚úì</span> Dashboard avan√ßado com gr√°ficos</li>
      <li class="included"><span class="icon">‚úì</span> Exporta√ß√£o CSV (eventos + tens√£o)</li>
      <li class="included"><span class="icon">‚úì</span> Notifica√ß√µes Telegram (opcional)</li>
    </ul>

    <button class="btn-plan btn-pro" id="pro-btn" onclick="startPro()">
      ‚ñ∂ ATIVAR PRO ‚Äî 7 DIAS GR√ÅTIS
    </button>
  </div>
</div>

<div class="faq">
  <h2>PERGUNTAS FREQUENTES</h2>

  <div class="faq-item" onclick="toggleFaq(this)">
    <div class="faq-q">‚óà Preciso de cart√£o de cr√©dito para o trial?</div>
    <div class="faq-a">Sim, mas voc√™ n√£o ser√° cobrado durante os 7 dias de trial. Cancele a qualquer momento antes do fim do per√≠odo e n√£o haver√° cobran√ßa.</div>
  </div>
  <div class="faq-item" onclick="toggleFaq(this)">
    <div class="faq-q">‚óà Como funciona o sistema de alertas?</div>
    <div class="faq-a">O sistema monitora not√≠cias a cada 5 minutos. Quando um evento com score de impacto ‚â• 8 √© detectado (ataques, testes nucleares, etc.), um alerta √© criado em tempo real e entregue via painel PRO e opcionalmente via Telegram.</div>
  </div>
  <div class="faq-item" onclick="toggleFaq(this)">
    <div class="faq-q">‚óà De onde v√™m as not√≠cias e an√°lises?</div>
    <div class="faq-a">As not√≠cias s√£o buscadas via NewsAPI e GNews de fontes como Reuters, AP, Al Jazeera, BBC e outras. Cada not√≠cia √© classificada e sumarizada pelo Claude (Anthropic) em m√∫ltiplos idiomas.</div>
  </div>
  <div class="faq-item" onclick="toggleFaq(this)">
    <div class="faq-q">‚óà Posso cancelar minha assinatura a qualquer momento?</div>
    <div class="faq-a">Sim. Voc√™ pode cancelar pelo portal de billing a qualquer momento. O acesso PRO continua at√© o fim do per√≠odo pago.</div>
  </div>
  <div class="faq-item" onclick="toggleFaq(this)">
    <div class="faq-q">‚óà O que √© o √≠ndice de tens√£o?</div>
    <div class="faq-a">√â um algoritmo propriet√°rio que analisa eventos classificados pela IA e calcula um score de 0-100 representando a tens√£o geopol√≠tica no conflito Ir√£ √ó EUA. Eventos militares adicionam +8, nucleares +6, san√ß√µes +5, cyber +4 e assim por diante.</div>
  </div>
</div>

<script src="./assets/auth.js"></script>
<script>
function toggleFaq(el) { el.classList.toggle('open'); }

async function startFree() {
  const loggedIn = await CW.Auth.isLoggedIn();
  window.location.href = loggedIn ? './index.html' : './login.html';
}

async function startPro() {
  const btn = document.getElementById('pro-btn');
  btn.disabled = true;
  btn.innerHTML = '<span class="spinner"></span>AGUARDE...';

  try {
    await CW.Billing.startCheckout();
  } catch (err) {
    alert(err.message || 'Erro ao iniciar checkout');
    btn.disabled = false;
    btn.innerHTML = '‚ñ∂ ATIVAR PRO ‚Äî 7 DIAS GR√ÅTIS';
  }
}

// Atualizar nav baseado no status de auth
async function updateNav() {
  const link = document.getElementById('auth-link');
  const loggedIn = await CW.Auth.isLoggedIn();
  if (loggedIn) {
    link.textContent = 'Dashboard';
    link.href = './index.html';
  } else {
    link.textContent = 'Entrar';
    link.href = './login.html';
  }
}
updateNav();

// Verificar se voltou do checkout com sucesso
if (new URLSearchParams(window.location.search).get('upgraded')) {
  alert('üéâ Bem-vindo ao plano PRO! Aproveite todos os recursos premium.');
}
</script>
</body>
</html>
